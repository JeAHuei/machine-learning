
# Exercise 1 - Implement policy iteration and value iteration 

## 1. Import Libraries


```python
import numpy as np
import gym
import gym.spaces as spaces
import time
```


```python
# action mapping for display the final result
action_mapping = {
    3: '\u2191', # UP
    2: '\u2192', # RIGHT
    1: '\u2193', # DOWN
    0: '\u2190' # LEFT
}
print(' '.join([action_mapping[i] for i in range(4)]))
```

    ‚Üê ‚Üì ‚Üí ‚Üë


## 2.Setup GYM Env for playing

Define a function `play_episodes` that will take a GYM environment and play the number of episodes according to action policies.


```python
def play_episodes(environment, n_episodes, policy, random = False):
    """
    This function plays the given number of episodes given by following a policy or sample randomly from action_space.
    
    Parameters:
        environment: openAI GYM object
        n_episodes: number of episodes to run
        policy: Policy to follow while playing an episode
        random: Flag for taking random actions. if True no policy would be followed and action will be taken randomly
        
    Return:
        wins: Total number of wins playing n_episodes
        total_reward: Total reward of n_episodes
        avg_reward: Average reward of n_episodes
    
    """
    # intialize wins and total reward
    wins = 0
    total_reward = 0
    
    # loop over number of episodes to play
    for episode in range(n_episodes):
        
        # flag to check if the game is finished
        terminated = False
        
        # reset the environment every time when playing a new episode
        state = environment.reset()
        
        while not terminated:
            
            # check if the random flag is not true then follow the given policy other wise take random action
            if random:
                action = environment.action_space.sample()
            else:
                action = policy[state]

            # take the next step
            next_state, reward,  terminated, info = environment.step(action)
            
            environment.render()
            
            # accumalate total reward
            total_reward += reward
            
            # change the state
            state = next_state
            
            # if game is over with positive reward then add 1.0 in wins
            if terminated and reward == 1.0:
                wins += 1
                
    # calculate average reward
    average_reward = total_reward / n_episodes
    
    return wins, total_reward, average_reward
```

## 3.Solution of Value Iteration

For **Value Iteration**`value_iteration`:
    
   **Initilize** $V^{\pi}(s)$, $s$-arbitrarily,e.g., $V^{\pi}(s)=0,for\ all\ s \in S$
   
   **Repeat**
   
   $\ \ \ \ \ \ \epsilon \leftarrow 0$    
   $\ \ \ \ \ \ $For each $s \in S$:
   
   $\ \ \ \ \ \ $$\ \ \ \ \ \ $$v \leftarrow V^{\pi}(s)$   
   $\ \ \ \ \ \ $$\ \ \ \ \ \ $$V^{\pi}(s)\leftarrow max_a\sum_{s' \in S} P(s'| s,a)[r(s'\|s,a)+\gamma V^{\pi}(s')]$ `one_step_lookahead`     
   $\ \ \ \ \ \ $$\ \ \ \ \ \ $$\epsilon \leftarrow max(\epsilon, |v-V^{\pi}(s)|)$
   
   **utill** $\epsilon < \theta$(a small position number)
   
   **Output a deterministic policy**-$\pi$Ôºåsuch that   
   $\pi(s) = argmax_a\sum_{s' \in S} P(s'| s,a)[r(s'\|s,a)+\gamma V^{\pi}(s')]$`update_policy`
   


```python
def one_step_lookahead(env, state, V , discount_factor = 0.99):
    """
    Helper function to  calculate state-value function
    
    Arguments:
        env: openAI GYM environment object
        state: state to consider
        V: Estimated Value for each state. Vector of length nS
        discount_factor: MDP discount factor. \gammar
        
    Return:
        action_values: Expected value of each action in a state. Vector of length nA
    """
    
    # initialize vector of action values
    action_values = np.zeros(env.nA)
    
    # loop over the actions we can take in an environment 
    for action in range(env.nA):
        # loop over the P_sa distribution.
        for probablity, next_state, reward, info in env.P[state][action]:
             #if we are in state s and take action a. then sum over all the possible states we can land into.
            action_values[action] += probablity * (reward + (discount_factor * V[next_state]))
    return action_values
```


```python
def update_policy(env, policy, V, discount_factor):
    
    """
    Helper function to update a given policy based on given value function.
    
    Arguments:
        env: openAI GYM Enviorment object.
        policy: policy to update.
        V: Estimated Value for each state. Vector of length nS.
        discount_factor: MDP discount factor. \gammar
    Return:
        policy: Updated policy based on the given state-Value function 'V'.
    """
    
    for state in range(env.nS):
        # for a given state compute state-action value.
        action_values = one_step_lookahead(env, state, V, discount_factor)
        
        # choose the action which maximizez the state-action value.
        policy[state] =  np.argmax(action_values)
        
    return policy
```


```python
def value_iteration(env, discount_factor = 0.999, max_iteration = 1000):
    """
    Algorithm to solve MPD.
    
    Arguments:
        env: openAI GYM environment object.
        discount_factor: MDP discount factor. \gammar
        max_iteration: Maximum Number of iterations to run.
        
    Return:
        V: Optimal state-Value function. Vector of length nS.
        optimal_policy: Optimal policy. Vector of length nS.
    
    """
    # intialize value fucntion
    V = np.zeros(env.nS)
    
    # iterate over max_iterations
    for i in range(max_iteration):
        
        #  keep track of change with previous value function
        prev_v = np.copy(V) 
    
        # loop over all states
        for state in range(env.nS):
            
            # Asynchronously update the state-action value
            # action_values = one_step_lookahead(env, state, V, discount_factor)
            
            # Synchronously update the state-action value
            action_values = one_step_lookahead(env, state, prev_v, discount_factor)
            
            # select best action to perform based on highest state-action value
            best_action_value = np.max(action_values)
            
            # update the current state-value fucntion
            V[state] =  best_action_value
            
        # if policy not changed over 10 iterations it converged.
        if i % 10 == 0:
            # if values of 'V' not changing after one iteration
            if (np.all(np.isclose(V, prev_v))):
                print('Value converged at iteration %d' %(i+1))
                break

    # intialize optimal policy
    optimal_policy = np.zeros(env.nS, dtype = 'int8')
    
    # update the optimal polciy according to optimal value function 'V'
    optimal_policy = update_policy(env, optimal_policy, V, discount_factor)
    
    return V, optimal_policy
```

## Test the Algorithm


```python
environment = gym.make('FrozenLake-v0')
tic = time.time()
opt_V, opt_Policy = value_iteration(environment.env, max_iteration = 1000)
toc = time.time()
elapsed_time = (toc - tic) * 1000
print (f"Time to converge: {elapsed_time: 0.3} ms")
print('Optimal Value function: ')
print(opt_V.reshape((4, 4)))
print('Final Policy: ')
print(opt_Policy)
print(' '.join([action_mapping[int(action)] for action in opt_Policy]))
```

    Value converged at iteration 341
    Time to converge:  89.0 ms
    Optimal Value function: 
    [[ 0.78538826  0.77836049  0.77368481  0.7713498 ]
     [ 0.78775777  0.          0.50562724  0.        ]
     [ 0.79250312  0.79963699  0.74472318  0.        ]
     [ 0.          0.86409247  0.93114742  0.        ]]
    Final Policy: 
    [0 3 3 3 0 0 0 0 3 1 0 0 0 2 1 0]
    ‚Üê ‚Üë ‚Üë ‚Üë ‚Üê ‚Üê ‚Üê ‚Üê ‚Üë ‚Üì ‚Üê ‚Üê ‚Üê ‚Üí ‚Üì ‚Üê



```python
n_episode = 10
wins, total_reward, avg_reward = play_episodes(enviorment, n_episode, opt_Policy, random = False)
```

      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SFFF
    F[41mH[0mFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SF[41mF[0mF
    FHFH
    FFFH
    HFFG
      (Up)
    SF[41mF[0mF
    FHFH
    FFFH
    HFFG
      (Up)
    S[41mF[0mFF
    FHFH
    FFFH
    HFFG
      (Up)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SF[41mF[0mF
    FHFH
    FFFH
    HFFG
      (Up)
    SFF[41mF[0m
    FHFH
    FFFH
    HFFG
      (Up)
    SF[41mF[0mF
    FHFH
    FFFH
    HFFG
      (Up)
    S[41mF[0mFF
    FHFH
    FFFH
    HFFG
      (Up)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SF[41mF[0mF
    FHFH
    FFFH
    HFFG
      (Up)
    SF[41mF[0mF
    FHFH
    FFFH
    HFFG
      (Up)
    S[41mF[0mFF
    FHFH
    FFFH
    HFFG
      (Up)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SFFF
    F[41mH[0mFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SFFF
    F[41mH[0mFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SFFF
    F[41mH[0mFH
    FFFH
    HFFG



```python
print(f'Total wins with value iteration: {wins}')
print(f"Average rewards with value iteration: {avg_reward}")
```

    Total wins with value iteration: 4
    Average rewards with value iteration: 0.4


## 4.Solve for Policy Iteration

For **Policy Iteration** `policy_iteration`:

**Policy Evaluation** for current policy $\pi_k$:`policy_eval`   
$\ \ \ \ \ \ $Iterate until convergence    
$\ \ \ \ \ \ V^{\pi_k}_{i+1}(s) \leftarrow \sum_{s' \in S}P(s'|s,\pi_k(s))[r(s',s,\pi(s))+\gamma V^{\pi_k}_i(s')]$

**Policy Imporvement**: find the best action according to `one-steplook-ahead`   
$\ \ \ \ \ \ \pi_{k+1}(s) \leftarrow argmax_a\sum_{s' \in S} P(s'| s,a)[r(s'\|s,a)+\gamma V^{\pi_k}(s')]$


```python
def policy_eval(env, policy, V, discount_factor):
    """
    Helper function to evaluate a policy.
    
    Arguments:
        env: openAI GYM environment object.
        policy: policy to evaluate.
        V: Estimated Value for each state. Vector of length nS.
        discount_factor: MDP discount factor. \gammar
    Return:
        policy_value: Estimated value of each state following a given policy and state-value 'V'. 
        
    """
    policy_value = np.zeros(env.nS)
    for state, action in enumerate(policy):
        for probablity, next_state, reward, info in env.P[state][action]:
            policy_value[state] += probablity * (reward + (discount_factor * V[next_state]))
            
    return policy_value
```


```python
def policy_iteration(env, discount_factor = 0.999, max_iteration = 1000):
    """
    Algorithm to solve MPD.
    
    Arguments:
        env: openAI GYM environment object.
        discount_factor: MDP discount factor. \gammar
        max_iteration: Maximum No.  of iterations to run.
        
    Return:
        V: Optimal state-Value function. Vector of lenth nS.
        new_policy: Optimal policy. Vector of length nS.
    
    """
    # intialize the state-Value function
    V = np.zeros(env.nS)
    
    # intialize a random policy
    policy = np.random.randint(0, 4, env.nS)
    policy_prev = np.copy(policy)
    
    for i in range(max_iteration):
        
        # evaluate given policy
        V = policy_eval(env, policy, V, discount_factor)
        
        # improve policy
        policy = update_policy(env, policy, V, discount_factor)
        
        # if policy not changed over 10 iterations it converged.
        if i % 10 == 0:
            if (np.all(np.equal(policy, policy_prev))):
                print('policy converged at iteration %d' %(i+1))
                break
            policy_prev = np.copy(policy)
            

            
    return V, policy
```

## Test Policy Iteration


```python
environment2 = gym.make('FrozenLake-v0')
tic = time.time()
opt_V2, opt_policy2 = policy_iteration(environment2.env, discount_factor = 0.999, max_iteration = 10000)
toc = time.time()
elapsed_time = (toc - tic) * 1000
print (f"Time to converge: {elapsed_time: 0.3} ms")
print('Optimal Value function: ')
print(opt_V2.reshape((4, 4)))
print('Final Policy: ')
print(opt_policy2)
print(' '.join([action_mapping[(action)] for action in opt_policy2]))
```

    policy converged at iteration 31
    Time to converge:  13.5 ms
    Optimal Value function: 
    [[ 0.35417188  0.29789248  0.27323702  0.24828299]
     [ 0.39178738  0.          0.27180699  0.        ]
     [ 0.46403122  0.56508154  0.55525204  0.        ]
     [ 0.          0.69646823  0.84379216  0.        ]]
    Final Policy: 
    [0 3 0 3 0 0 0 0 3 1 0 0 0 2 1 0]
    ‚Üê ‚Üë ‚Üê ‚Üë ‚Üê ‚Üê ‚Üê ‚Üê ‚Üë ‚Üì ‚Üê ‚Üê ‚Üê ‚Üí ‚Üì ‚Üê



```python
n_episode = 10
wins, total_reward, avg_reward = play_episodes(environment2, n_episode, opt_policy2, random = False)
```

      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SFFF
    F[41mH[0mFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SFFF
    F[41mH[0mFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SF[41mF[0mF
    FHFH
    FFFH
    HFFG
      (Left)
    S[41mF[0mFF
    FHFH
    FFFH
    HFFG
      (Up)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FH[41mF[0mH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    [41mS[0mFFF
    FHFH
    FFFH
    HFFG
      (Left)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    [41mF[0mHFH
    FFFH
    HFFG
      (Left)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    [41mF[0mFFH
    HFFG
      (Up)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FF[41mF[0mH
    HFFG
      (Left)
    SFFF
    FHFH
    F[41mF[0mFH
    HFFG
      (Down)
    SFFF
    FHFH
    FFFH
    H[41mF[0mFG
      (Right)
    SFFF
    FHFH
    FFFH
    HF[41mF[0mG
      (Down)
    SFFF
    FHFH
    FFFH
    HFF[41mG[0m



```python
print(f'Total wins with Policy iteration: {wins}')
print(f"Average rewards with Policy iteration: {avg_reward}")
```

    Total wins with Policy iteration: 8
    Average rewards with Policy iteration: 0.8


## Conclusion

Policy iteration is generally faster than value iteration.   
But policy iteration takes more computation.
